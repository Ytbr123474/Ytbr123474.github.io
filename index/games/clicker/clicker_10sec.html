<!DOCTYPE html>
<html>
<head>
	<title>Click the Button Game</title>
	<link rel="stylesheet" type="text/css" href="clicker.css">
</head>
<body>
	<h1>Click the Button Game</h1>
	<label for="duration">Enter game duration:</label>
	<input type="number" id="duration" name="duration" value="30">
	<select id="timeUnit">
	  <option value="seconds">Seconds</option>
	  <option value="minutes">Minutes</option>
	</select>
	<button onclick="startGame()">Start Game</button>
	<p>Click the button as many times as possible within the time limit.</p>
	<button id="click-button" onclick="incrementCount()">Click me!</button>
	<p id="count">0</p>
	<p id="timer"></p>
	<p id="cps"></p>

	<script>
		var count = 0;
		var timeLeft = 0;
		var cps = 0;
		var countdown;

		// Function to start the game
		function startGame() {
			// Get the duration and time unit from the input fields
			var duration = parseInt(document.getElementById("duration").value);
			var timeUnit = document.getElementById("timeUnit").value;

			// Convert the duration to seconds
			if (timeUnit == "minutes") {
				duration *= 60;
			}

			// Set the time left and update the display
			timeLeft = duration;
			document.getElementById("timer").innerHTML = formatTime(duration);

			// Enable the click button and clear the count
			count = 0;
			document.getElementById("count").innerHTML = count;
			document.getElementById("click-button").disabled = false;

			// Start the timer
			countdown = setInterval(updateTimer, 1000);
		}

		// Function to increment the count and update the display
		function incrementCount() {
			count++;
			document.getElementById("count").innerHTML = count;

			// Update the CPS counter
			cps = count / (timeLeft - 1);
			document.getElementById("cps").innerHTML = "CPS: " + cps.toFixed(2);
		}

		// Function to update the timer every second
		function updateTimer() {
			timeLeft--;
			document.getElementById("timer").innerHTML = formatTime(timeLeft);
			if (timeLeft == 0) {
				// Stop the game when time is up
				clearInterval(countdown);
				document.getElementById("click-button").disabled = true;
				alert("Time's up! Your score is " + count);
			}
		}

		// Function to format time as mm:ss
		function formatTime(time) {
			var minutes = Math.floor(time / 60);
			var seconds = time % 60;
			if (seconds < 10) {
				seconds = "0" + seconds;
			}
			return minutes + ":" + seconds;
		}
	</script>
</body>
</html>
